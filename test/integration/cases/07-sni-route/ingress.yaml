apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: echo-https
  annotations:
    kubernetes.io/ingress.class: kong
    konghq.com/protocols: https
    konghq.com/snis: "example.com, example.net"
spec:
  tls:
  - hosts:
      - example.com
    secretName: tls-example-com
  - hosts:
      - example.net
    secretName: tls-example-net
  rules:
  - host: example.com
    http:
      paths:
      - backend:
          service:
            name: echo
            port:
              number: 8080
        path: /foo
        pathType: Prefix
  - host: example.net
    http:
      paths:
      - backend:
          service:
            name: echo
            port:
              number: 8080
        path: /bar
        pathType: Prefix
---
apiVersion: v1
kind: Secret
metadata:
  name: tls-example-com
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURPVENDQWlHZ0F3SUJBZ0lVTkkxSWppZDdrM3JDZWRtWkhocUdtRkJGNDA4d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0xERVVNQklHQTFVRUF3d0xaWGhoYlhCc1pTNWpiMjB4RkRBU0JnTlZCQW9NQzJWNFlXMXdiR1V1WTI5dApNQjRYRFRJd01UQXpNREU1TWpnME4xb1hEVEl4TVRBek1ERTVNamcwTjFvd0xERVVNQklHQTFVRUF3d0xaWGhoCmJYQnNaUzVqYjIweEZEQVNCZ05WQkFvTUMyVjRZVzF3YkdVdVkyOXRNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUFxL21GOHNOenVwTFRyTFRpL3hZOGNxWjhWR1VIYzM2eXpkM2t0cHR1T0VDdgpqa0p6Q0FRNFBaRXljRHhsMjhhMjNqTk9Lck9qUDlEMFVqZHc4OTFNcWdzWVU2bmUrRzZGMGEvMkQzcWlYSUZ4CklsUURoRldpcndBdS9EeUpzR2JsL3Y0NHpoSEdrYmI1dWFVTGVab1EzajhLYXlLZmpHOTMra3J6Z0MwTUtwSXAKVFJEUmFMWDZCN0VtMnM5aW9zelFvTmpEc0gyWTllbjVOeDg1NEZzT2E1OU5kaENNMmU0ZS9kYmRpd3FsSDUxaQpPTnhCKzgvRVZvR0Y5V0IwOHdQU2NxYU9oSUhFMXI3ME9pQzNrMDhkUUF1VjdIL2xud1pBVmMzTVprYlJ5RlBlCjk5OVc2Yk9zWEV1eXB3YTBjNko3aGNOQzc0S3dYajIyb2FZT245cm1NUUlEQVFBQm8xTXdVVEFkQmdOVkhRNEUKRmdRVUdLSmU2RVoyZFViY01YYm1RNnh0OFJPR1hiY3dId1lEVlIwakJCZ3dGb0FVR0tKZTZFWjJkVWJjTVhibQpRNnh0OFJPR1hiY3dEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFrYW4vCnJHZExqbUJ1UUZCZEF3Z0szZnFhaVJFanRqRk82M2VxbTBveHN2VEJleE51Y1pGbHhFczZyRTRmY1BJOStweUIKQzdRaFFza3FlOFBhbEJBVC9xVUQ0T2JtS3FHSGxVTE9qMkVNMDZabStXazZUa1dnOWQ4bDdBcVJyVEExSlFRQgp0RGdxdHFsM1BodGg1NmlodE9QWU9naFE4Q3djeXhnSE9YVkZEbitCVkxFWUk5bWh4ck1YdDlEc2VBYVcvbzk5CmNjc2p4aFNGMEVlS29HQm9Day9PNUU3UlUyVTRXeHVYQkMxUitiNTVndlhLSThScDJHdDdYdzVFQ2cxVGJtVmYKeC8yOGZOOXpYTjgyclp0UnowOUx1bU5zOVVwVnJNN0Y3Q2JrZFIzSm9yaWc1bTZtdm03MlBhakRFZ2p2QWNpdQp5dTRXZmhhamZpZ0pVTksyaFE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ3IrWVh5dzNPNmt0T3MKdE9ML0ZqeHlwbnhVWlFkemZyTE4zZVMybTI0NFFLK09Rbk1JQkRnOWtUSndQR1hieHJiZU0wNHFzNk0vMFBSUwpOM0R6M1V5cUN4aFRxZDc0Ym9YUnIvWVBlcUpjZ1hFaVZBT0VWYUt2QUM3OFBJbXdadVgrL2pqT0VjYVJ0dm01CnBRdDVtaERlUHdwcklwK01iM2Y2U3ZPQUxRd3FraWxORU5Gb3Rmb0hzU2JhejJLaXpOQ2cyTU93ZlpqMTZmazMKSHpuZ1d3NXJuMDEyRUl6WjdoNzkxdDJMQ3FVZm5XSTQzRUg3ejhSV2dZWDFZSFR6QTlKeXBvNkVnY1RXdnZRNgpJTGVUVHgxQUM1WHNmK1dmQmtCVnpjeG1SdEhJVTk3MzMxYnBzNnhjUzdLbkJyUnpvbnVGdzBMdmdyQmVQYmFoCnBnNmYydVl4QWdNQkFBRUNnZ0VCQUlHNHY1Um1ZSFo4NkpTZkFaYy9FNnU3NzQ3TmduaFpPdERWTHYrYmNPR1gKMFpUeWhNaW9QakFheFR3cUl2OUwvb2JQbG9mWlp5dnRGMDZwS1ZlYU40a1F3M0hnY2lOZFl5M1BtRUVHMVZBSQpCK25JQzdzWHlaWk9BaU1jR3hSb0dkZGx0ajJpNVBEblg2bnNXQ0tLMTJ4OWl3TlRZNXhRUE9VZEFsNU9ISjVDCjA3USt1cE5rRWZiWTdNTHBSQXVLU20wTzloQWMrdEpMZU1TekRQYnlDbHR1S21oS1dhRCsyb1M5aVVUWDRBN1cKOFl6QmkrL09jSUtCeEs0Ny9xMnBHb3pGcjB4UllFVkdKSVBsYVFhRytybUFsZzUwL3BIRlIxeVZUU2tlOTlaTQpPdjRsOG9Rcm5xQWI1SGlwQkl3WGN4ZUltUjNrSXJNT3V6b2QwU3AwRnMwQ2dZRUExVDZBOXZRZDFleGwzbG5VCmZ4bmh0YS9EbDdwSXk0aXVMRE5CWTJVNUlpWUdVMmViRFB5akRwOFpsWVJHV3FFN3NaY3pwTHVWbUFLcEFWY2cKc1pzTlpuSzhSSUN2RnBWL1JVTU8rSXlsMlJZaVZYY2xEVDdDbkM5eW95b3hmeEVaUUpNUGpqcGVLajFWV281LwpwWTloLzRXUEV2VjlRY0Z5U3F6RHhHRG12VGNDZ1lFQXpuUzRzbjRCYUhsTTNxL1Z5a1pvc0l3YTAzYzJtRFNsCmU5Tk8vQ2Vic2JkSFlva3ZtRmRydmk4V0hSUTY2OFVNTWlDRmZzSUpBYlZuQlA1YjNna1VVUDA1OElVUW5pMXAKcy9wTHdhQSs0ZmRYWUJBTUdiMlEvS0xJTml4eTNPWGR5WUREL29LQ0VMZlBCKzlITkxyLzlZZkRkVVNSNFhubQpSL3pGUmZqa2E5Y0NnWUI4cU5WcmlMb0lYUElRVWlOUFNpb1F0SGQ3TTROcXVMUlpVbjFmUmNWb21TSUpqLytzClQrUmluOCt0QUc3QWZKRVErSHRRU2ZqaHJHeHdSQ2J3ck52Z2tDSlBTWXNSZ01PdUVjMm1yMUlrM2pPa0VzcXUKTzRvNUUrUElUdG93bGlaVkFhT09XY0RDb0toTkVCQy9FRnNSclZvK2t4UnVaRkFVSjNzcVNodVpjUUtCZ0IySwo4a3NJWU9jMFJGMnhSNlIwUXRMUW1aNGM5d0Q4dDVscWVXajN1ZjNLUGpySmFyZ2YrbGp5bi9WMVNhRW5SMEY5CkNkMURvc3BOelBvWDg4bG4vekkvcWlUU3hiZjh3NTF2ZVp1eGRJNGRPTEdVV2tic3EyeWJWbzc1K1UzR3p0L2cKdnlzU1BjNXFud09CcCt6UnZZTEM5S001TnE3UEpMYTBZdjVLU1ZWdEFvR0FKS0ovU2FmMXVRL1dxMFYrbS94UApEOUlzSmFLQ1BHTTBPT0FCTitwYzNOQkkvNzJZMG42QkpEck1ySGNxU0FZVzE2WDUvb1ZoRU5nd3FYOEVhanpTCmwvRnh3KzUyNXR3T3pjSG1tUmRMT2Rpc1YyUWo3NXF2bkxKejVTU2NyS01lcGYzWDJkUjg3NFBqcnYzbld0S0EKVjBUbms3RDRueU16QmxrakR6OTFYQjQ9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
type: kubernetes.io/tls
---
apiVersion: v1
kind: Secret
metadata:
  name: tls-example-net
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURPVENDQWlHZ0F3SUJBZ0lVR3V1cm40U0FxdWM1QkVOeWEvMVpEdm1MNWswd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0xERVVNQklHQTFVRUF3d0xaWGhoYlhCc1pTNXVaWFF4RkRBU0JnTlZCQW9NQzJWNFlXMXdiR1V1Ym1WMApNQjRYRFRJd01UQXpNREU1TWprME5sb1hEVEl4TVRBek1ERTVNamswTmxvd0xERVVNQklHQTFVRUF3d0xaWGhoCmJYQnNaUzV1WlhReEZEQVNCZ05WQkFvTUMyVjRZVzF3YkdVdWJtVjBNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2a3Qxb1JRWDY1cDVYcXlvMWtnWVcraGxGMnQyQjN1MUhzdUw4WjFZV0RxNQpTd0Q0dTVkMmRycHRJVjhxTmROYnNDcHRRRnBmQnFGS3JuQTZSS2MwWDNHb3lLUXR2U3NMUnJ3cFVUeGRPZnp5CkNRc2lRY043UlppOFZuNWtwWEdVYUMxUTdUdDM1bExvL2xtaitKNk1Dc05HaTk1c3JsbURTSndRNktQeDBySWcKRFpIYlZOOWhRWk9lTmdLamxqT0VkRkt6OGgzOFRJMUNOTXVpUGNHcnVaSVBxVGJFZmxKb3UwekFPcXNZUkpNcgo5Y0FON2JoOVB3MlFFc2Z3TEx5SUlwSnoxODJVMkk3WmhhUEpmd0RQbHVhMmNHR3QrRmFqVVhMSWNNd3BxWnRQCm9HdCtVU0htU3dkdEwxMEhJM3NkdVJPQVRxaVVmelBTa1dVZUVTejh3d0lEQVFBQm8xTXdVVEFkQmdOVkhRNEUKRmdRVW5QUGhCaENjNXpSbnJnRmdhcWxLN2dQMytVc3dId1lEVlIwakJCZ3dGb0FVblBQaEJoQ2M1elJucmdGZwphcWxLN2dQMytVc3dEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFIeU41CmQ0SzFObEVvTGhtSHZ0aTlGdzhlQmhmWlVON01HOE1oaFFqVkliTE5qNXhJTFpySjdDQzk4TXk2RlZWays5VTgKWXR0eFJqQytZaDBOYjNNb0VhRWVDLzc2QnlCdktSckdpOSsvbXg5V205ZkxpWVA5YVhub3R1Sy8wcmNZT3dWSgpSanpHSkEycnQrN21TUlFBb1RYWHVpNlRSNzhjek01VjR2T2RQNVVjWlJ2ZzAvYjQza21sbnViamhtMVAyaVBXClhkWDJOTGF5SzBCTlFXUG8xYk5Ic3VrUWJsb3gxK0xjMzh3NmJWM0c3RkhDaXEyWFU5eEx5UmJrWmdjWXNtdVAKQm8xNnBnUUNpZHhXL1R1djRoVGw5cVlhaG03Mm52SzJzakNwbEQxRVJsM1l4cEl0d1VWMmJKeEJ4WVJ0WUQxZAp3a1JObXppdEEvSFAvVGR1NVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQytTM1doRkJmcm1ubGUKcktqV1NCaGI2R1VYYTNZSGU3VWV5NHZ4blZoWU9ybExBUGk3bDNaMnVtMGhYeW8xMDF1d0ttMUFXbDhHb1VxdQpjRHBFcHpSZmNhaklwQzI5S3d0R3ZDbFJQRjA1L1BJSkN5SkJ3M3RGbUx4V2ZtU2xjWlJvTFZEdE8zZm1VdWorCldhUDRub3dLdzBhTDNteXVXWU5JbkJEb28vSFNzaUFOa2R0VTMyRkJrNTQyQXFPV000UjBVclB5SGZ4TWpVSTAKeTZJOXdhdTVrZytwTnNSK1VtaTdUTUE2cXhoRWt5djF3QTN0dUgwL0RaQVN4L0FzdklnaWtuUFh6WlRZanRtRgpvOGwvQU0rVzVyWndZYTM0VnFOUmNzaHd6Q21wbTArZ2EzNVJJZVpMQjIwdlhRY2pleDI1RTRCT3FKUi9NOUtSClpSNFJMUHpEQWdNQkFBRUNnZ0VBUWlDSzBkemZxeG5WRDFkRW5LSVZCT3N2SmdKTDA3SGpjTDRlOVdsT0orclEKTlFZemFVenE5N3MwN1NIYTB6V05hUngxTnFXdzIrYjB3c1Z4R2laWWhzcENjdWJLbGkvOURTbVoyZ2IyQm82bAp0UXJQYnJiMWdXdmdGdFo1Tnh6UEM1eWp3S3lucjd3a0J5OHpVZFFXcWk3TnR4RW1CemhIN05WKzhyajE4ZGNsCjlqSDQrc0tNYVd6bmhIY3YrS1V5dW5YMXF1YmZUaWFSV1d5V2p0Yjl1N1NhVDlnN3Q2czNpSGNBQm8zM1ByS3QKV1hwemVZN3YrK0pkWWlycWF5TU0yckxRckVJOGZFTzlVMnZsY09UZThQRC9JaDBna3RwZ01CNUZ3Y3pnQ2IzZwp2bkc1RjFFUW1vd2wyeVVuQTFRdmFqZUZqaE5IQS9jVDgwc0JSUmNCb1FLQmdRRDNMSmJwbVZWTnE1RnkyU2JnCnVwUjQ2Vk1uY0lzZEZ1M1hRV3IwSWJNSzZ2ZmVxdTZ3STEzNmg3T1dNalZZVmVyL3NjblBpTkJvSk9jUUJFQ0IKWVZHRmp5SDZjcFhHZnZwWE5Ta2VIQjE2L2RDTVFWZWxOWXY1TFUyck5OZ1NQTnZHMjBSUk44bC85b0tWNUdlbAozNkY4cGk5ZFYxdlBlUjlxWUhzSlltUFpPd0tCZ1FERkZ1L3Yva1ZFNDRpSVNYaWlWQ0lIN1Y3cVJKalppRldwCklxaFVhZXFtbnpxN3ltNjFSK3k2YXhtTlZ3NXMvVkRnS2JTV0VxK2l4ZWhCcEMvV1VwV2M5Z3hUTDlCRTVBVTIKL01RS1VXVElTcFMydi9Rc21ObzdsNzI0enFtV3RhNFZPNDh1bmJkZEdERWRRNWg3eEFGWW5Fb01qbVA3SlZuUApKMGdNWFFueUdRS0JnQWEvUzl0U21UYUdrWERlSnFhSjBWVy9vTXA1MHdKWFJ1VFNYMVlNdVhONTJJeFdoQytBCnQ2Y0lIMG5oVXYxM1V2UHA2WVZseWJLZUYwU2pxUk1mRWZlZ1lhQVJrcThaZGtIOUxJTXE1MDhkTUowemgyMzIKR1QwVEZJU3c2NWtMMmtBQ2Frb0JTTm5hWTlRdHFQcXBNU0pTOHdZTVJYQlRjUjBaUnlLSmNncFRBb0dBRTVKUAppVm1LcjJpWTZrL0JkdjA3MCtXeWd6a0VwTFZ4TERhUTJMRWI2Q2Z2d1M0OUNDdDRTcHJRRXNVT1hheGFGNmlNCmtrcVF2bTFBdnlQNnpDR3ZVY0x0UG1XRkhSSTNvbG8vYlhiZnR6UVF5SVVQVGs1dmZYTjRGNTRPSVRVeGNGSlYKeVo5SDBpclExY01jcFUyMWhJTWdwMWFNZnlnYVh3UGJsNzYxZWlFQ2dZQWJkb3lOeXJaRXNZQjdBVEdhdDN4MwptR3JHTk1qZjBvOWhOZ3RONWxNamJkdGwvdFpvMU50NU95cjJ6dUFvVWZjeGduNEppcll0LzB5MU10WTdoenkwCmFVMUVESXdlT1JGN1JZUXU0UU5LbHUxUVQwV01YS09Qb0pZb3FhVUJCU0dRb1F4VWZYdUN1SmVEK3EyMmZEdXEKZXJSamVkWWVRTHJ3dnd4S1BLY1IzUT09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
type: kubernetes.io/tls